<div>
    <div class="card">
        <div class="card-body">
            <h5>Pedidos</h5>

            <table class="table table-sm">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Cliente</th>
                        <th>Status</th>
                        <th>Data</th>
                        <th>Total</th>
                        <th>Ações</th>
                    </tr>
                </thead>

                <tbody>
                    <tr *ngFor="let p of orders">
                        <td style="max-width:180px; overflow:hidden; text-overflow:ellipsis">
                            {{ p.id }}
                        </td>

                        <!-- Cliente — mostrar nome se já vier no objeto, senão mostrar clienteId -->
                        <td>
                            {{ p.clienteNome || p.clienteId }}
                        </td>

                        <td>{{ statusMap[p.status] }}</td>

                        <td>{{ p.data | date: 'short' }}</td>

                        <td>{{ p.total }}</td>

                        <td>
                            <button class="btn btn-sm btn-success me-1" (click)="pay(p.id)">Pagar</button>
                            <button class="btn btn-sm btn-warning me-1" (click)="cancel(p.id)">Cancelar</button>
                            <button class="btn btn-sm btn-info" (click)="viewTotal(p.id)">Total</button>
                        </td>
                    </tr>
                </tbody>

            </table>
        </div>
    </div>
</div>